swagger: "2.0"
info:
  version: 1.0.0
  title: Shipnow API
  description: |
    ShipNow exposes it's information using RESTful interface. Detailed
    documentation of every endpoint is available below.

    Requests
    --------

     * Our production API is hosted at https://api.shipnow.com.ar.
     * Our testing API is hosted at https://api-staging.shipnow.com.ar.

    If you need to test your clients, feel free to pollute the testing API with
    test data, though keep in mind that it will be cleared every few hours.

    On occasions, testing may diverge slightly from production. This should not
    last long, since we generally deploy to one and quickly to the other. If you
    find such discrepancies, don't worry, since they should quickly propagate to
    production.

    Both APIs use HTTPS (ie: HTTP + TLS) exclusively. You MUST NOT attempt to reach
    them using raw HTTP.

    ### Authentication

    Authentication is not yet done via OAuth, but a simpler password-based
    mechanism.

    Users will provide their username and password, which you will then exchange
    for a `Token` by `POST`ing to `/users/authentication`, using HTTP Basic
    Authentication (as defined in [rfc2617][rfc2617]). This will return the entire
    user object, which contains the user's token:

        {
            "id": 1,
            "email": "hugo@barrera.io",
            "token": "VXyuYdTflB9NY1KUMfcddDcAJeye4vfAv7cZg8m7qDNmhuZ3V6",
            "type": "human",
            "description": "Hugo",
            "role": "admin",
            "account": {},
            "avatar_url": null
        }

    This token should be included in every request header to operate on behalf of
    the user, inside the `Authorization` header, as follows:

        Token token=gNGQNzZ2muAdRKZT3miNccnwYxSrZ6zl2t1B6l6tcHpUw00pok

    You SHOULD NOT store user's username or password. You should only store the
    provided token.

    Responses
    ---------

    ### Data

    All data is sent and received using [JSON][json]. Request data will be
    contained inside a `results` object:

        {
            "results": [
               {
                  "id": 1,
                  "name": "sample object 1",
                  "created_at": "2017-12-14T15:42:12.898Z"
               }
            ]
        }

    All models also contain `updated_at` and `created_at` fields (these are
    ommited from most examples for readability). They are the last-update and
    creation times respectively  and cannot be manually edited.

    ### Errors

    In case of a 4XX (except 422) or 5XX status code, errors MAY be included in
    an errors array:

        {
            "errors": [
                "Access Denied"
            ]
        }

    In case of a 422 status code, validation errors will be included in an
    errors object:

        {
            errors: {
                "someField": "Description of someField's error",
                "anotherField": "Cannot be blank"
            }
        }

    We adhere quite closely to [HTTP 1.1][http1.1], with one exception: When data
    validation fails, we will return a 422 status code.

    All dates are use the [ISO8601][iso8601] format, and are UTC-time, unless
    otherwise specified.

    ### Pagination

    By default, all endpoints will return at most the first twenty elements
    inside the `results` array. To obtain other elements include the `page`
    query parameter, eg:

        https://api.shipnow.com.ar/orders?page=2

    The link to the next and last pages can be found in the `Link` HTTP header:

        <https://api-staging.shipnow.com.ar/orders?page=20>; rel="last", <https://api-staging.shipnow.com.ar/orders?page=2>; rel="next"

    Page indexes are one-based, meaning that the first pages is one, and NOT
    zero.

    Accounts vs Users
    -----------------

    Each client has a single account, which in turn, has multiple users. An account
    will hold all orders and products for that client, which all users of that
    account can access (with different roles).

    Each account can have as many users as they need.  Additional users can be
    created via the API or the sellers interface.

    Roles
    -----

    Users can have one of three roles:

     * ShipNow: These are internal account, that can access data for all clients,
       and are used internally when actually moving products around.
       You will generally never see these user types unless you're deploying
       the ShipNow app for your own warehouse.
     * Administrator: These are the top-level users for each account, and can
       create other users, as well as a few more special actions.
     * Regular: These are the lower-level users, which can create/edit orders,
       product, and use other day-to-day interfaces.

    Bots, or automated automated integrations interacting with the API should
    generally have their own user, and it's recommended that their role is set
    to `regular`.

    Stores
    ------

    Each account can have multiple stores. Stores represent different points of
    sales (eg: MercadoLibre, TiendaNube, eBay, retail, etc).

    If you link shipnow to one of our integrated stores via the web ui, a new
    store will be created for each one. The `store_type` field should help
    reveal which integration that is.

    A single account may also have more than one store for the same store type
    (eg: a single account can be linked to two MercadoLibre profiles).

    If your intention is to read order data from ShipNow, you generally won't
    pay much attention to stores. If your intention is to create orders, you'll
    probably want to use the store type "custom".

    You can create as many stores as you need, and it's strongly recommended
    that you use one per application you're integrating, or per point of sales.

    Order Statuses
    --------------

    Each order has a status indicating at which point in the delivery process
    it's currently in. Below is a brief summary of each status, and which
    transitions sellers may perform for each one.

    Be careful not to confuse `status` with `state`. The latter refers to the
    geopolitical subdivision, not to an order's state.

    ### awaiting_payment
    Indicates that the seller has not yet confirmed that it has been paid. 
    Orders in this status will not be process, and will remain unaltered 
    until the status is updated.

    Valid transitions: `new`, `on_hold`, `cancelled`

    ### new
    This is the initial status for all paid orders. Orders in this status are ready to be allocated. This status should be temporary. If we have stock for all their items, it will be updated automatically to `ready_to_pick`. If not, the order will be paused (`on_hold`).

    Valid transitions: `ready_to_pick`, `on_hold`

    ### ready_to_pick
    Orders with this status are allocated and awaiting to be picked from the warehouse.

    Valid transitions: `picking_list`, `on_hold`

    ### picking_list
    Items for this order and in the process of being gathered around the
    warehouse.

    Valid transitions: `packing_slip`

    ### packing_slip
    Items for this order are being packaged and labeled for delivery.

    Valid transitions: `ready_to_ship`

    ### ready_to_ship
    The package for this order is ready, and is awaiting delivery by the
    courier.

    Valid transitions: `shipped`, `delivered`, `on_hold`

    ### shipped
    The package has been picked up by the courier and is en route to its final
    destination.

    Valid transitions: `delivered`, `not_delivered`

    ### delivered
    The package has been delivered to the buyer successfully. Orders in this
    status may not transition to other statuses.

    ### not_delivered
    Delivery of the package failed (eg: inexistant address, rejected, etc).
    Orders in this status may not transition to other statuses.

    ### on_hold
    The order has been paused, and no further processing will occur
    until it transitions out of this state. If a package exists for an order in
    this state, it will be located and set aside.

    When an order transititions into this state, manual intervention MAY be
    required, and, in some cases, it may not be possible to action the request
    (eg: a package may be given to the courier just as the request comes in,
    etc).

    Valid transitions: `new`, `cancelled`

    ### cancelled
    The order has been cancelled, and will no longer be processed. Orders in
    this status may not transition to other statuses.

    Updating orders
    ---------------

    Depending on an order's status, some fields may not be editable, eg:it's
    impossible to change the destination address for a package that's already
    been shipped.

    The `store_id` field cannot be edited and is considered readonly after an
    order creation.

    Keep in mind that you can set an order's status to `on_hold` (unless it has
    been shipped) if there's an exceptional scenario that requires edition of
    otherwise non-editable fields.

    The following is a brief overview of which fields can be edited for orders
    in each status:

    `awaiting_payment`, `ready_to_pick` or `on_hold`:
    All fields may be edited.

    `picking_list`:
    The `items` field can no longer be edited at this point. All other fields
    are still editable.

    `packing_slip`, `ready_to_ship`, `shipped`, `delivered` `not_delivered` or `cancelled`:
    Only the `comments` field is editable at this point.

    Shipping Services
    -----------------

    Shipnow works with several carriers that offer several shipping services.
    Generally, if you don't specify a carrier/service for an order, we will
    automatically select the best choice for new.

    That said, if you need to work with a specific service/carrier, you may
    select one. Each shipping service has a `type` field which indicates what
    type of service this is. These are described below.

    Keep in mind that when specifying a post office (either as source or
    destination), you do not need to specify an address; we'll automatically
    fill that in.

    ### ship_pas

    Door to PostOffice shipments. These require a valid origin address and a
    valid destination `post_office_id`.

    ### ship_sap

    PostOffice to Door shipments. These require a valid destination address and
    a valid origin `post_office_id`.

    ### pickup

    This isn't an actualy shipping service; just the packaging. Clients will
    pick up the order (either at shipnow, or somewhere else, depending on the
    specific service).

    ### ship_pap

    Door to Door shipments. These require both valid origin and destination
    addresses.

    ### ship_sas

    Post Office to Post Office shipments. These require both a valid origin and
    destination `post_office_id`.

    ### marketplace

    These shipping services are specific to a certain marketplace, and should
    not be used explicitly.
    
    Post Offices
    ------------
    
    As Shipnow works with differents carriers, some of them provide us the possibility 
    of using their post offices so clients can picking up their package.
     Shipnow can deliver orders to Oca, Garbarino and Andreani post offices.

    Webhooks
    --------

    You can receive notifications in your app when certain event occur. For now,
    the only available notification is order creation/update.

    Notifications are delivered via webhooks, which are created by POSTing to
    the /webhooks endpoint documented below.

    Webhook notifications will be delivered by `POST`ing data about the event
    with the following format:

        {
          "account": 1,
          "topic": "order/created",
          "resource_id": 1
        }

     * `account` is the account for which this notification applies.  This will
        only be relevant to you if your application handles multiple ShipNow
        accounts.
     * `topic` describes the event, and is composed of `model/event`. `event`
       can be either `created` or `updated`, and model can only be `order`
       (This WILL change in future, so integrations MUST NOT assume it's always
       `order`!
     * `resources_id` is the `id` of the model which fired this notification
       (eg: the id of the order that has been created).

    Transfers
    ---------

    It allows to transfer merchandise between two deposits. When creating a transfer, it must be specified a minimum and maximum timetable in which it will be carried out with `requested_from` and `resquested_to`.

    ### Transfer Statuses

    ### requested
    Transfers created by accounts that can not manage all participating warehouses are created in the `requested` state and must be confirmed by a third-party warehouse administrator.

    ### confirmed
    Transfers created by accounts that can manage all the warehouses participating in the transfer are created in the `confirmed` state. In this state an outbound order is created if applicable. In addition, the in_coming stock of the products is updated.

    ### received
    Transfer arrived at the arrival deposit. When an outbound order is completed, the good in goes to received.

    ### processing
    Transfer is `processing`.

    ### completed
    Transfer was `completed`. In each item the stock is updated if it´s a product and it´s resumed if it´s an order.

    ### cancelled
    Only transfers that have not yet been confirmed can be `cancelled`.

    Contributing
    ------------

    This documentation is hosted publicly at [GitHub][github].  If you find any
    error or room for improvement, feel free to send a contribution.

    If you encounter any undocumented behaviours, or bugs in the API, please open an
    issue in this project's issue tracker. We'll update the documentation (or fix
    the underlying issue).

    Copyright (c) 2016 ShipNow SRL <developers@shipnow.com.ar>

    [json]: http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf
    [http1.1]: https://tools.ietf.org/html/rfc2616
    [github]: https://github.com/shipnow/docs
    [rfc2617]: https://tools.ietf.org/html/rfc2617#section-2
    [iso8601]: https://en.wikipedia.org/wiki/ISO_8601
  contact:
    name: ShipNow API Team
    email: developers@shipnow.com.ar
    url: https://www.shipnow.com.ar
host: api-staging.shipnow.com.ar
basePath: /
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json
security:
  - token: []
paths:
  /orders:
    get:
      description: |
        Returns all orders from the system to which the user has access. This
        will generally be all the orders for the account related to the current
        user.
      operationId: findOrders
      parameters:
        - name: status
          in: query
          description: filter by status
          required: false
          type: string
        - name: date_from
          in: query
          description: exclude orders created before this date
          required: false
          type: string
          format: date
        - name: date_to
          in: query
          description: exclude orders created after this date
          required: false
          type: string
          format: date
        - name: status_detail
          in: query
          description: filter by status_detail
          required: false
          type: string
          format: string
        - name: external_reference
          in: query
          description: find order with this external_reference
          required: false
          type: string
          format: string
        - name: carrier_code
          in: query
          description: filter by carrier_code
          required: false
          type: string
          format: string
        - name: store_id
          in: query
          description: filter by store
          required: false
          type: integer
          format: int32
        - name: sku
          in: query
          description: filter orders with the product with this sku
          required: false
          type: string
          format: string
        - name: tracking_number
          in: query
          description: find order with this tracking_number
          required: false
          type: string
          format: string
      responses:
        200:
          description: An array of Orders.
          schema:
            type: object
            properties:
              results:
                type: array
                items:
                  $ref: '#/definitions/Order'
          examples:
            application/json:
              results:
                  id: 18424
                  created_at: 2018-06-07T10:00:15.734-03:00
                  updated_at: 2018-06-07T10:00:15.734-03:00
                  external_reference: 100553245
                  external_reference_user:
                  comment: Stock comes in on 2016-02-28
                  status: awaiting_payment
                  last_status:
                  main_order_id:
                  archived: false
                  timestamps:
                    created_at: 2018-06-07T10:00:15.734-03:00
                    updated_at: 2018-06-07T10:00:15.734-03:00
                    ready_to_pick_at:
                    packing_slip_at:
                    picking_list_at:
                    ready_to_ship_at:
                    shipped_at: 
                    delivered_at: 
                    not_delivered_at: 
                    on_hold_at:
                  weight: 0
                  uid: BjXAhBl3nrZsyGF1BXyJ5Q
                  package_type: 0.0
                  estimated_delivery: 2018-06-13T18:00:00.000-03:00
                  minimum_delivery: 2018-06-08T09:00:00.000-03:00
                  maximum_delivery: 2018-06-13T18:00:00.000-03:00
                  ship_from_warehouse_id: 1
                  ship_to_warehouse_id:
                  type: regular
                  warnings:
                  seller_id: 850
                  seller_name: Tricera Mochila
                  seller_logo: 
                  pvx_account: true
                  store_type: tiendanube
                  cross_docking: false
                  payment:
                    interest: 0
                    shipping: 0
                  shipping_option:
                    service_code: mailexpress_estandar
                    carrier_code: mailexpress
                    category: economic
                    price: 197
                    service_type: ship_pap
                  store:
                    id: 1575
                    created_at: 2018-05-31T20:51:26.357-03:00
                    updated_at: 2018-05-31T20:51:39.661-03:00
                    name: TN - Tricera
                    url: http://triceratops.mitiendanube.com
                    image_url: https://d26lpennugtm8s.cloudfront.net/stores/055/480/themes/common/logo-584049565-1527722282-c2abf2fcaa0e06649cace7951b0214981527722282.png?0
                    active: true
                    seller_id: 850
                    store_type: tiendanube
                  return:
                  pickup_order:
                  ship_to:
                    zip_code: 3600
                    street_name:
                    street_number: 
                    city: Santa Rosa
                    state: La Pampa
                    floor: 
                    unit: 
                    name: Marcelo Breno
                    last_name: 
                    full_name: Marcelo Breno
                    phone: 0295415543942
                    email: chelo.mb3@gmail.com
                    lon:
                    lat:
                    doc_type:
                    doc_number:
                    line: Mariano Pascual 167
                    address_line: Mariano Pascual 167
                    country:
                        name: Argentina
                        code: AR
                    post_office_id:
                    warehouse_id:
                  ship_from:
                    zip_code: 1427
                    street_name: Av. Constituyentes
                    street_number: 2995
                    city: Ciudad de Buenos Aires
                    state: Ciudad de Buenos Aires
                    floor: 
                    unit: Deposito J2
                    name: Tricera Mochilas
                    last_name: SRL
                    full_name: Tricera Mochilas Srl
                    phone: 35292697
                    email: info@shipnow.com.ar
                    lon: -58.475772
                    lat: -34.592206
                    doc_type:
                    doc_number:
                    line: Av. Constituyentes 2995 Deposito J2
                    address_line: Av. Constituyentes 2995 Deposito J2
                    country:
                        name: Argentina
                        code: AR
                    post_office_id:
                    warehouse_id: 1
                  items:
                    quantity: 1,
                    status: 
                    extra_data:
                    unit_price: 1999.0
                    discount: 0.0
                    cross_docking: false
                    id: 602942
                    external_reference: TC00109
                    title: ECO II KNIT -
                    image_url: /images/original/missing.png
                    thumbnail_url: /images/thumb/missing.png
                    archived: false
                    picking_preference: warehouse
                    stock: 
                      on_hand: 0,
                      available: 0,
                      allocated: 0,
                      committed: 1
                    dimensions:
                      weight: 0
                    
    post:
      description: |
        Creates a new order, and returns it with its new id.
      operationId: createOrder
      parameters:
        - $ref: '#/parameters/NewOrder'
      responses:
        200:
          description: The newly created Order.
          schema:
            $ref: '#/definitions/Order'
          examples:
            application/json:
              id: 18424
              created_at: 2018-06-07T10:00:15.734-03:00
              updated_at: 2018-06-07T10:00:15.734-03:00
              external_reference: 100553245
              external_reference_user:
              comment: Stock comes in on 2016-02-28
              status: awaiting_payment
              last_status:
              main_order_id:
              archived: false
              timestamps:
                created_at: 2018-06-07T10:00:15.734-03:00
                updated_at: 2018-06-07T10:00:15.734-03:00
                ready_to_pick_at:
                packing_slip_at:
                picking_list_at:
                ready_to_ship_at:
                shipped_at: 
                delivered_at: 
                not_delivered_at: 
                on_hold_at:
              weight: 0
              uid: BjXAhBl3nrZsyGF1BXyJ5Q
              package_type: 0.0
              estimated_delivery: 2018-06-13T18:00:00.000-03:00
              minimum_delivery: 2018-06-08T09:00:00.000-03:00
              maximum_delivery: 2018-06-13T18:00:00.000-03:00
              ship_from_warehouse_id: 1
              ship_to_warehouse_id:
              type: regular
              warnings:
              seller_id: 850
              seller_name: Tricera Mochila
              seller_logo: 
              pvx_account: true
              store_type: tiendanube
              cross_docking: false
              payment:
                interest: 0
                shipping: 0
              shipping_option:
                service_code: mailexpress_estandar
                carrier_code: mailexpress
                category: economic
                price: 197
                service_type: ship_pap
              store:
                id: 1575
                created_at: 2018-05-31T20:51:26.357-03:00
                updated_at: 2018-05-31T20:51:39.661-03:00
                name: TN - Tricera
                url: http://triceratops.mitiendanube.com
                image_url: https://d26lpennugtm8s.cloudfront.net/stores/055/480/themes/common/logo-584049565-1527722282-c2abf2fcaa0e06649cace7951b0214981527722282.png?0
                active: true
                seller_id: 850
                store_type: tiendanube
              return:
              pickup_order:
              ship_to:
                zip_code: 3600
                street_name:
                street_number: 
                city: Santa Rosa
                state: La Pampa
                floor: 
                unit: 
                name: Marcelo Breno
                last_name: 
                full_name: Marcelo Breno
                phone: 0295415543942
                email: chelo.mb3@gmail.com
                lon:
                lat:
                doc_type:
                doc_number:
                line: Mariano Pascual 167
                address_line: Mariano Pascual 167
                country:
                  name: Argentina
                  code: AR
                post_office_id:
                arehouse_id:
              ship_from:
                zip_code: 1427
                street_name: Av. Constituyentes
                street_number: 2995
                city: Ciudad de Buenos Aires
                state: Ciudad de Buenos Aires
                floor: 
                unit: Deposito J2
                name: Tricera Mochilas
                last_name: SRL
                full_name: Tricera Mochilas Srl
                phone: 35292697
                email: info@shipnow.com.ar
                lon: -58.475772
                lat: -34.592206
                doc_type:
                doc_number:
                line: Av. Constituyentes 2995 Deposito J2
                address_line: Av. Constituyentes 2995 Deposito J2
                country:
                  name: Argentina
                  code: AR
                post_office_id:
                warehouse_id: 1
              items:
                quantity: 1,
                status: 
                extra_data:
                unit_price: 1999.0
                discount: 0.0
                cross_docking: false
                id: 602942
                external_reference: TC00109
                title: ECO II KNIT -
                image_url: /images/original/missing.png
                thumbnail_url: /images/thumb/missing.png
                archived: false
                picking_preference: warehouse
                stock: 
                  on_hand: 0,
                  available: 0,
                  allocated: 0,
                  committed: 1
                dimensions:
                  weight: 0
        422:
          description: A list of validation errors.
          examples:
            application/json:
              errors:
                external_reference: Has already been taken
                store_id: Cannot be null
  /orders/{id}:
    get:
      description: |
        Returns an order identified by id.
      operationId: getOrder
      parameters:
        - name: id
          in: path
          description: id of order to fetch
          required: true
          type: integer
          format: int64
      responses:
        200:
          description: An Order.
          schema:
            $ref: '#/definitions/Order'
          examples:
            application/json:
              id: 18424
              created_at: 2018-06-07T10:00:15.734-03:00
              updated_at: 2018-06-07T10:00:15.734-03:00
              external_reference: 100553245
              external_reference_user:
              comment: Stock comes in on 2016-02-28
              status: awaiting_payment
              last_status:
              main_order_id:
              archived: false
              timestamps:
                created_at: 2018-06-07T10:00:15.734-03:00
                updated_at: 2018-06-07T10:00:15.734-03:00
                ready_to_pick_at:
                packing_slip_at:
                picking_list_at:
                ready_to_ship_at:
                shipped_at: 
                delivered_at: 
                not_delivered_at: 
                on_hold_at:
              weight: 0
              uid: BjXAhBl3nrZsyGF1BXyJ5Q
              package_type: 0.0
              estimated_delivery: 2018-06-13T18:00:00.000-03:00
              minimum_delivery: 2018-06-08T09:00:00.000-03:00
              maximum_delivery: 2018-06-13T18:00:00.000-03:00
              ship_from_warehouse_id: 1
              ship_to_warehouse_id:
              type: regular
              warnings:
              seller_id: 850
              seller_name: Tricera Mochila
              seller_logo: 
              pvx_account: true
              store_type: tiendanube
              cross_docking: false
              payment:
                interest: 0
                shipping: 0
              shipping_option:
                service_code: mailexpress_estandar
                carrier_code: mailexpress
                category: economic
                price: 197
                service_type: ship_pap
              store:
                id: 1575
                created_at: 2018-05-31T20:51:26.357-03:00
                updated_at: 2018-05-31T20:51:39.661-03:00
                name: TN - Tricera
                url: http://triceratops.mitiendanube.com
                image_url: https://d26lpennugtm8s.cloudfront.net/stores/055/480/themes/common/logo-584049565-1527722282-c2abf2fcaa0e06649cace7951b0214981527722282.png?0
                active: true
                seller_id: 850
                store_type: tiendanube
              return:
              pickup_order:
              ship_to:
                zip_code: 3600
                street_name:
                street_number: 
                city: Santa Rosa
                state: La Pampa
                floor: 
                unit: 
                name: Marcelo Breno
                last_name: 
                full_name: Marcelo Breno
                phone: 0295415543942
                email: chelo.mb3@gmail.com
                lon:
                lat:
                doc_type:
                doc_number:
                line: Mariano Pascual 167
                address_line: Mariano Pascual 167
                country:
                  name: Argentina
                  code: AR
                post_office_id:
                arehouse_id:
              ship_from:
                zip_code: 1427
                street_name: Av. Constituyentes
                street_number: 2995
                city: Ciudad de Buenos Aires
                state: Ciudad de Buenos Aires
                floor: 
                unit: Deposito J2
                name: Tricera Mochilas
                last_name: SRL
                full_name: Tricera Mochilas Srl
                phone: 35292697
                email: info@shipnow.com.ar
                lon: -58.475772
                lat: -34.592206
                doc_type:
                doc_number:
                line: Av. Constituyentes 2995 Deposito J2
                address_line: Av. Constituyentes 2995 Deposito J2
                country:
                  name: Argentina
                  code: AR
                post_office_id:
                warehouse_id: 1
              items:
                quantity: 1,
                status: 
                extra_data:
                unit_price: 1999.0
                discount: 0.0
                cross_docking: false
                id: 602942
                external_reference: TC00109
                title: ECO II KNIT -
                image_url: /images/original/missing.png
                thumbnail_url: /images/thumb/missing.png
                archived: false
                picking_preference: warehouse
                stock: 
                  on_hand: 0,
                  available: 0,
                  allocated: 0,
                  committed: 1
                dimensions:
                  weight: 0

        404:
          description: Order with given id not found.
    put:
      description: |
        Update an existing order. Note that not all fields are editable at all
        times. Once orders have been packed, items and shipping data cannot be
        altered. Only certain status transitions are valid.
      operationId: updateOrder
      parameters:
        - name: id
          in: path
          description: The id of the order to be updated.
          required: true
          type: integer
        - name: order
          in: body
          required: true
          schema:
            $ref: '#/definitions/Order'
      responses:
        200:
          description: The updated order.
          schema:
            $ref: '#/definitions/Order'
          examples:
            application/json:
              id: 18424
              created_at: 2018-06-07T10:00:15.734-03:00
              updated_at: 2018-06-07T10:00:15.734-03:00
              external_reference: 100553245
              external_reference_user:
              comment: Stock comes in on 2016-02-28
              status: awaiting_payment
              last_status:
              main_order_id:
              archived: false
              timestamps:
                created_at: 2018-06-07T10:00:15.734-03:00
                updated_at: 2018-06-07T10:00:15.734-03:00
                ready_to_pick_at:
                packing_slip_at:
                picking_list_at:
                ready_to_ship_at:
                shipped_at: 
                delivered_at: 
                not_delivered_at: 
                on_hold_at:
              weight: 0
              uid: BjXAhBl3nrZsyGF1BXyJ5Q
              package_type: 0.0
              estimated_delivery: 2018-06-13T18:00:00.000-03:00
              minimum_delivery: 2018-06-08T09:00:00.000-03:00
              maximum_delivery: 2018-06-13T18:00:00.000-03:00
              ship_from_warehouse_id: 1
              ship_to_warehouse_id:
              type: regular
              warnings:
              seller_id: 850
              seller_name: Tricera Mochila
              seller_logo: 
              pvx_account: true
              store_type: tiendanube
              cross_docking: false
              payment:
                interest: 0
                shipping: 0
              shipping_option:
                service_code: mailexpress_estandar
                carrier_code: mailexpress
                category: economic
                price: 197
                service_type: ship_pap
              store:
                id: 1575
                created_at: 2018-05-31T20:51:26.357-03:00
                updated_at: 2018-05-31T20:51:39.661-03:00
                name: TN - Tricera
                url: http://triceratops.mitiendanube.com
                image_url: https://d26lpennugtm8s.cloudfront.net/stores/055/480/themes/common/logo-584049565-1527722282-c2abf2fcaa0e06649cace7951b0214981527722282.png?0
                active: true
                seller_id: 850
                store_type: tiendanube
              return:
              pickup_order:
              ship_to:
                zip_code: 3600
                street_name:
                street_number: 
                city: Santa Rosa
                state: La Pampa
                floor: 
                unit: 
                name: Marcelo Breno
                last_name: 
                full_name: Marcelo Breno
                phone: 0295415543942
                email: chelo.mb3@gmail.com
                lon:
                lat:
                doc_type:
                doc_number:
                line: Mariano Pascual 167
                address_line: Mariano Pascual 167
                country:
                  name: Argentina
                  code: AR
                post_office_id:
                arehouse_id:
              ship_from:
                zip_code: 1427
                street_name: Av. Constituyentes
                street_number: 2995
                city: Ciudad de Buenos Aires
                state: Ciudad de Buenos Aires
                floor: 
                unit: Deposito J2
                name: Tricera Mochilas
                last_name: SRL
                full_name: Tricera Mochilas Srl
                phone: 35292697
                email: info@shipnow.com.ar
                lon: -58.475772
                lat: -34.592206
                doc_type:
                doc_number:
                line: Av. Constituyentes 2995 Deposito J2
                address_line: Av. Constituyentes 2995 Deposito J2
                country:
                  name: Argentina
                  code: AR
                post_office_id:
                warehouse_id: 1
              items:
                quantity: 1,
                status: 
                extra_data:
                unit_price: 1999.0
                discount: 0.0
                cross_docking: false
                id: 602942
                external_reference: TC00109
                title: ECO II KNIT -
                image_url: /images/original/missing.png
                thumbnail_url: /images/thumb/missing.png
                archived: false
                picking_preference: warehouse
                stock: 
                  on_hand: 0,
                  available: 0,
                  allocated: 0,
                  committed: 1
                dimensions:
                  weight: 0

  /orders/{orderId}/shipments:
    get:
      description: |
        Returns the shipment for this order. Older orders MAY have more than
        one shipment if they were returned.
      operationId: findShipments
      parameters:
        - name: orderId
          in: path
          description: The id of the order for which this shipment applies.
          required: true
          type: integer
          format: int64
      responses:
        200:
          description: An array of shipments
          schema:
            type: object
            properties:
              results:
                type: array
                items:
                  $ref: '#/definitions/Shipment'
          examples:
            application/json:
              results:
                id: 6662
                order_id: 37201
                created_at: 2018-06-07T09:55:55.085-03:00
                delivered_at:
                dispatch_id:
                external_reference: 27592747623
                insurance_price:
                in_post_office_at:
                last_update_carrier_at:
                not_delivered_at:
                out_for_delivery_at:
                post_office_from_id:
                post_office_to_id:
                shipped_at:
                shipping_price: 0.0
                status: ready_to_ship
                status_updated_at:
                tracking_number: 27592747623
                condition: on_time
                type: PAP
                carrier:
                  code: me
                  description: MercadoEnvios (solo válido para MercadoLibre)
                  flexible_dispatching: false
                  id: 5
                  image_url: https://d32gfon7gpwon2.cloudfront.net/carriers/mercadoenvios-logo.png"
                  name: MercadoEnvios
                  tracking_url: https://myaccount.mercadolibre.com.ar/sales/list
        
        404:
          description: Order with given orderId not found.
  /products:
    get:
      description: |
        Returns all the products to which the user has access.
      operationId: findProducts
      parameters:
        - name: external_reference
          in: query
          description: Filter by this external_reference.
          required: false
          type: string
      responses:
        200:
          description: A list of zero or more products.
          schema:
            type: object
            properties:
              results:
                  type: array
                  items:
                    $ref: '#/definitions/Product'
          examples:
            application/json:
              results:
                id: 111021,
                created_at: 2016-10-24T14:17:04.486-03:00
                updated_at: 2017-01-27T15:02:46.668-03:00
                external_reference: 1210101204002
                title: Remera Colie  - Negro
                currency:
                extra_data: 
                archived: false
                picking_preference: warehouse
                freezed_external_reference: false
                seller_id: 143
                seller_name: Benito
                type: item
                publications: 0
                orders: 1
                stock:
                    available: 0
                    committed: 0
                    allocated: 0
                    on_hand: 0
                dimensions:
                  weight: 0
                  height: 0
                  length: 0
                  width: 0
                declared_dimensions:
                  weight: 0
                  height: 0
                  length: 0
                  width: 0
                price:
                  retail": 4150.0
                  wholesale:
                  buy:
                image_url: /system/products/images/000/111/021/original/216351.jpg?1485540164
                thumbnail_url: /system/products/images/000/111/021/thumb/216351.jpg?1485540164
                related_products:

    post:
      description: |
        Creates a new product, and returns it with its new id.
      operationId: createProduct
      parameters:
        - $ref: '#/parameters/Product'
      responses:
        200:
          description: The newly created product
          schema:
            $ref: '#/definitions/Product'
          examples:
            application/json:
              id: 111021,
              created_at: 2018-05-24T12:17:04.486-03:00
              updated_at: 
              external_reference: 121015691002
              title: Remera - Rojo
              currency: ARG
              extra_data: 
              archived: false
              picking_preference: warehouse
              freezed_external_reference: false
              seller_id: 143
              seller_name: Benito
              type: item
              publications: 0
              orders:
              stock:
                  available: 1
                  committed: 0
                  allocated: 0
                  on_hand: 0
              dimensions:
                weight: 0
                height: 0
                length: 0
                width: 0
              declared_dimensions:
                weight: 0
                height: 0
                length: 0
                width: 0
              price:
                retail": 1150.0
                wholesale:
                buy:
              image_url:
              thumbnail_url:
              related_products:
        422:
          description: A list of validation errors.
          examples:
            application/json:
              errors:
                external_reference: Has already been taken
  /products/{id}/:
    get:
      description: |
        Returns a product identified by id.
      operationId: getProduct
      parameters:
        - name: id
          in: path
          description: The id of the product to fetch.
          required: true
          type: integer
          format: int64
      responses:
        200:
          description: A product.
          schema:
            $ref: '#/definitions/Product'
          examples:
            application/json:
              id: 111021,
              created_at: 2016-10-24T14:17:04.486-03:00
              updated_at: 2017-01-27T15:02:46.668-03:00
              external_reference: 1210101204002
              title: Remera Colie  - Negro
              currency:
              extra_data: 
              archived: false
              picking_preference: warehouse
              freezed_external_reference: false
              seller_id: 143
              seller_name: Benito
              type: item
              publications: 0
              orders: 1
              stock:
                  available: 0
                  committed: 0
                  allocated: 0
                  on_hand: 0
              dimensions:
                weight: 0
                height: 0
                length: 0
                width: 0
              declared_dimensions:
                weight: 0
                height: 0
                length: 0
                width: 0
              price:
                retail": 4150.0
                wholesale:
                buy:
              image_url: /system/products/images/000/111/021/original/216351.jpg?1485540164
              thumbnail_url: /system/products/images/000/111/021/thumb/216351.jpg?1485540164
              related_products:
        404:
          description: Product with given id not found.
    put:
      description: |
        Update an existing product.
      operationId: updateProduct
      parameters:
        - name: id
          in: path
          description: The id of the product to be updated.
          required: true
          type: integer
        - name: product
          in: body
          required: true
          schema:
            $ref: '#/definitions/Product'
      responses:
        200:
          description: The updated product.
          schema:
            $ref: '#/definitions/Product'
          examples:
            application/json:
              id: 12072
              external_reference: AC17283DFC
              title: Red Scarf
              price:
                retail: 345.0
                wholesale: 300.5
                buy: 500
              currency: ARS
              image_url: https://cdn.shipnow.com.ar/products/TRpXu9O7Ej.png
              dimensions:
                weight: 300.0
                heigth: 20.0
                length: 20.0
                width: 20.0
              extra_data:
                publication_id: FD742
              location: null
  /products/{id}/merge:
    post:
      description: |
        Merges this product into a second one. This method should be used when an
        account somehow has duplicate products, and deleting is impossible due to
        existing orders.
      operationId: mergeProduct
      parameters:
        - name: id
          in: path
          description: The product that will be merged and subsequently deleted.
          required: true
          type: integer
        - name: target
          in: query
          description: Target product into which this one will be merged.
          required: true
          type: string
      responses:
        200:
          description: The resulting target product.
          schema:
            $ref: '#/definitions/Product'
          examples:
            application/json:
              results:
                id: 111021,
                created_at: 2016-10-24T14:17:04.486-03:00
                updated_at: 2017-01-27T15:02:46.668-03:00
                external_reference: 1210101204002
                title: Remera Colie  - Negro
                currency:
                extra_data: 
                archived: false
                picking_preference: warehouse
                freezed_external_reference: false
                seller_id: 143
                seller_name: Benito
                type: item
                publications: 0
                orders: 1
                stock:
                    available: 0
                    committed: 0
                    allocated: 0
                    on_hand: 0
                dimensions:
                  weight: 0
                  height: 0
                  length: 0
                  width: 0
                declared_dimensions:
                  weight: 0
                  height: 0
                  length: 0
                  width: 0
                price:
                  retail": 4150.0
                  wholesale:
                  buy:
                image_url: /system/products/images/000/111/021/original/216351.jpg?1485540164
                thumbnail_url: /system/products/images/000/111/021/thumb/216351.jpg?1485540164
                related_products:
  /users:
    get:
      description: |
        Returns all users for the current user's account.
      operationId: findUsers
      responses:
        200:
          description: An array of User objects
          schema:
            type: object
            properties:
              results:
                type: array
                items:
                    $ref: '#/definitions/User'
          examples:
            application/json:
              results:
                id: 883
                email: rebeldenimbrand@gmail.com
                token: 8JQGj1v355sVSDm4LjJGYQdcO6fIPN4v16XSuxpyVmyRe9d9Eg
                type: human
                description: Paz Spelzini
                role: admin
                avatar_url:
                created_at: 2018-04-18T15:22:16.779-03:00
                account:
                  $ref: '#/definitions/Account'
                warehouse:
                  $ref: '#/definitions/Warehouse'
    post:
      description: |
        Creates a new user for this account.

        Note that the calling user requires `admin` priviledges for this call
        to work (ie: `user.type` must be equal to `admin`)
      operationId: createUser
      responses:
        200:
          description: The newly created User.
          schema:
            $ref: '#/definitions/User'
          examples:
            application/json:
              id: 883
              email: rebeldenimbrand@gmail.com
              token: ab01ut67CPsVSDm4LjJGYQdcO6fIPN4v16XSuxpyVmyRe9d9Eg
              type: human
              description: Bob Spelzini
              role: admin
              avatar_url:
              created_at: 2018-04-18T15:22:16.779-03:00
              account:
                $ref: '#/definitions/Account'
              warehouses:
                $ref: '#/definitions/Warehouse'
        403:
          description: Access denied to user creation.
        422:
          description: A list of validation errors.
          examples:
            application/json:
              errors:
                email: Has already been taken
  /users/{id}/:
    get:
      description: |
        Returns a user identified by id.
      operationId: getUser
      parameters:
        - name: id
          in: path
          description: The id of the user to fetch.
          required: true
          type: integer
          format: int64
      responses:
        200:
          description: A user.
          schema:
            $ref: '#/definitions/User'
          examples:
            application/json:
              id: 883
              email: rebeldenimbrand@gmail.com
              token: 8JQGj1v355sVSDm4LpEh28JcO6fIPN4v16XSuxpyVmyRe9d9Eg
              type: human
              description: Paz Spelzini
              role: admin
              avatar_url:
              created_at: 2018-04-18T15:22:16.779-03:00
              account:
                $ref: '#/definitions/Account'
              warehouses:
                $ref: '#/definitions/Warehouse'
        404:
          description: User with given id not found.
    put:
      description: |
        Update an existing User.

        Users of type `admin` can update all users for an account. `regular`
        users can only edit themselves.
      operationId: updateUser
      parameters:
        - name: id
          in: path
          description: The id of the User to be updated.
          required: true
          type: integer
        - $ref: '#/parameters/User'
      responses:
        200:
          description: The updated User.
          schema:
            $ref: '#/definitions/User'
          examples:
            application/json:
              id: 883
              email: rebeldenimbrand@gmail.com
              token: 8JQGj1v355sVSDm4LpEh28JcO6fIPN4v16XSuxpyVmyRe9d9Eg
              type: human
              description: Paz Spelzini
              role: admin
              avatar_url:
              created_at: 2018-04-18T15:22:16.779-03:00
              account:
                $ref: '#/definitions/Account'
              warehouses:
                $ref: '#/definitions/Warehouse'
        403:
          description: Current User cannot modify target User.
    delete:
      description: |
        Delete a single User based on the id supplied.

        Only users of type `admin` can call this endpoint.
      operationId: deleteUser
      parameters:
        - name: id
          in: path
          description: The id of User to delete.
          required: true
          type: integer
          format: int64
      responses:
        204:
          description: User deleted.
        403:
          description: Current User cannot delete target User.
  /users/authentication:
    post:
      description: |
        Authenticates a user and returns an API-compatible token.
        Implementations should provide the username and password using HTTP
        Basic Auth (as defined in RFC2617).
      operationId: authenticateUser
      security:
        - auth: []
      responses:
        200:
          description: the user object
          schema:
            $ref: '#/definitions/User'
          examples:
            application/json:
              id: 202
              email: bob@example.com
              token: l352aggWKHXAKDxnvqFbMDdS0od1BfxUKXhfIU0vDO9XiipBQO
              type: null
              description: null
              role: regular
              avatar_url: https://cdn.shipnow.com.ar/avatars/207.png
  /accounts:
    get:
      description: |
        Returns all accounts to which the user has access - this will almost
        always be just the user's account.
      operationId: findAccount
      responses:
        200:
          description: An array of Account objects
          schema:
            type: object
            properties:
              results:
                type: array
                items:
                  - $ref: '#/definitions/Account'
          examples:
            application/json:
              results:
                id: 1
                created_at: 2015-12-11T17:24:44.451-03:00
                updated_at: 2018-02-06T17:30:23.770-03:00
                email": info@shipnow.com.ar
                name": SHIP NOW
                last_name: S.R.L
                company_name: Shipnow
                phone: 44445555
                token: XWhhZnl8e1PoEJqQYLjwEA
                image_url: https://res.cloudinary.com/hsyqpasuw/image/upload/v1490107237/tnjdd9fk84a5esj010au.png
                current_plan": personal
                pickup_orders_pickup_price: 70.0
                active: true
                url:
                fiscal_category:
                business_name: 
                doc_number:
                doc_type:
                dnd: false
                picking_preference: warehouse
                current_tariff:
                  $ref: '#/definitions/Tariff'
                address:
                  $ref: '#/definitions/Address'
                stores:
                  $ref: '#/definitions/Store'
                warehouses:
                  $ref: '#/definitions/Warehouse'
                available_warehouses:
                  $ref: '#/definitions/Warehouse'
  /accounts/me:
    get:
      description: |
        Returns the account to which the user has access
      operationId: getOwnAccount
      responses:
        200:
          description: An Account object
          schema:
            type: object
            properties:
              results:
                type: array
                items:
                  - $ref: '#/definitions/Account'
          examples:
            application/json:
              id: 1
              created_at: 2015-12-11T17:24:44.451-03:00
              updated_at: 2018-02-06T17:30:23.770-03:00
              email: info@shipnow.com.ar
              name: SHIP NOW
              last_name: S.R.L
              company_name: Shipnow
              phone: 44445555
              token: XWhhZnl8e1PoEJqQYLjwEA
              image_url: https://res.cloudinary.com/hsyqpasuw/image/upload/v1490107237/tnjdd9fk84a5esj010au.png
              current_plan": personal
              pickup_orders_pickup_price: 70.0
              active: true
              url:
              fiscal_category:
              business_name: 
              doc_number:
              doc_type:
              dnd: false
              picking_preference: warehouse
              current_tariff:
                $ref: '#/definitions/Tariff'
              address:
                $ref: '#/definitions/Address'
              stores:
                $ref: '#/definitions/Store'
              warehouses:
                $ref: '#/definitions/Warehouse'
              available_warehouses:
                $ref: '#/definitions/Warehouse'

  /accounts/{id}:
    put:
      description: |
        Update an account.
        Only `admin`-type users can update accounts, and they can only update
        their own.
      operationId: updateAccount
      parameters:
        - name: id
          in: path
          description: The id of the Account to be updated.
          required: true
          type: integer
        - $ref: '#/parameters/Account'
      responses:
        200:
          description: The updated Account.
          schema:
            $ref: '#/definitions/Account'
          examples:
            application/json:
              id: 1
              created_at: 2015-12-11T17:24:44.451-03:00
              updated_at: 2018-02-06T17:30:23.770-03:00
              email": info@shipnow.com.ar
              name": SHIP NOW
              last_name: S.R.L
              company_name: Shipnow
              phone: 44445555
              token: XWhhZnl8e1PoEJqQYLjwEA
              image_url: https://res.cloudinary.com/hsyqpasuw/image/upload/v1490107237/tnjdd9fk84a5esj010au.png
              current_plan": personal
              pickup_orders_pickup_price: 70.0
              active: true
              url:
              fiscal_category:
              business_name: 
              doc_number:
              doc_type:
              dnd: false
              picking_preference: warehouse
              current_tariff:
                $ref: '#/definitions/Tariff'
              address:
                $ref: '#/definitions/Address'
              stores:
                $ref: '#/definitions/Store'
              warehouses:
                $ref: '#/definitions/Warehouse'
              available_warehouses:
                $ref: '#/definitions/Warehouse'
        403:
          description: Current User cannot modify target Account.
  /stores:
    get:
      description: |
        Returns all stores for the current user's account.
      operationId: findStores
      responses:
        200:
          description: An array of Stores
          schema:
            type: object
            properties:
              results:
                type: array
                items:
                  $ref: '#/definitions/Store'
          examples:
            application/json:
              results:
                id: 1609
                created_at: 2018-06-07T08:50:45.866-03:00
                updated_at: 2018-06-07T08:50:57.362-03:00
                name: example name
                url: http://example.mitiendanube.com
                image_url: https://example.cloudfront.net/stores/281/738/themes/common/logo-1663896327-1525213633-1bcabd7f45c69ec942f0ef5fda8f1ee01525213649.jpg?0
                active: true
                seller_id: 950
                store_type: tiendanube
    post:
      description: |
        Creates a new Store
      operationId: createStore
      parameters:
        - $ref: '#/parameters/NewStore'
      responses:
        200:
          description: The newly created Store.
          schema:
            $ref: '#/definitions/Store'
          examples:
            application/json:
              id: 16010
              created_at: 2018-06-07T08:50:45.866-03:00
              updated_at:
              name: example name
              url: http://example.mitiendanube.com
              image_url: https://example.cloudfront.net/stores/281/738/themes/common/logo-1663896327-1525213633-1bcabd7f45c69ec942f0ef5fda8f1ee01525213649.jpg?0
              active: true
              seller_id: 950
              store_type: tiendanube
        422:
          description: A list of validation errors.
          examples:
            application/json:
              errors:
                store_type: Cannot be null
  /stores/{id}:
    get:
      description: |
        Returns the Store identified by id.
      operationId: getStore
      parameters:
        - name: id
          in: path
          description: The id of order to fetch.
          required: true
          type: integer
          format: int64
      responses:
        200:
          description: A Store.
          schema:
            $ref: '#/definitions/Store'
          examples:
            application/json:
              id: 1609
              created_at: 2018-06-07T08:50:45.866-03:00
              updated_at: 2018-06-07T08:50:57.362-03:00
              name: example name
              url: http://example.mitiendanube.com
              image_url: https://example.cloudfront.net/stores/281/738/themes/common/logo-1663896327-1525213633-1bcabd7f45c69ec942f0ef5fda8f1ee01525213649.jpg?0
              active: true
              seller_id: 950
              store_type: tiendanube
        404:
          description: A Store with the given id not found.
    put:
      description: |
        Update an existing Store.
      operationId: updateStore
      parameters:
        - name: id
          in: path
          description: The id of the Store to be updated.
          required: true
          type: integer
        - $ref: '#/parameters/Store'
      responses:
        200:
          description: The updated order.
          schema:
            $ref: '#/definitions/Store'
          examples:
            application/json:
              id: 16010
              created_at: 2018-06-07T08:50:45.866-03:00
              updated_at: 2018-06-11T15:04:05.904-03:00
              name: new example name
              url: http://example.mitiendanube.com
              image_url: https://example.cloudfront.net/stores/281/738/themes/common/logo-1663896327-1525213633-1bcabd7f45c69ec942f0ef5fda8f1ee01525213649.jpg?0
              active: true
              seller_id: 950
              store_type: tiendanube
  /webhooks:
    post:
      description: Create a webhook. Event notifications will be posted to it.
      operationId: createWebhook
      parameters:
        - $ref: '#/parameters/NewWebhook'
      responses:
        200:
          description: The newly created webhook
          examples:
            application/json:
              id: 71
              url: https://example.com/notifications

  /shipping_services:
    get:
      description: |
        Returns all shipping services.
      operationId: findShippingServices
      responses:
        200:
          description: An array of ShippingServices
          schema:
            type: object
            properties:
              results:
                type: array
                items:
                  $ref: '#/definitions/ShippingService'
          examples:
            application/json:
              results:
                - id: 13
                  code: motonorte_same_day
                  description: null
                  min_zip_code: null
                  max_zip_code: null
                  post_offices: []
                  carrier:
                    id: 3
                    code: motonorte
                    name: Motonorte
                    description: Envíos a CABA y GBA
  /shipping_services/{id}:
    get:
      description: |
        Returns the ShippingService identified by id.
      operationId: getShippingService
      parameters:
        - name: id
          in: path
          description: The id of ShippingService to fetch.
          required: true
          type: integer
          format: int64
      responses:
        200:
          description: A ShippingService.
          schema:
            $ref: '#/definitions/ShippingService'
          examples:
            application/json:
              id: 13
              code: motonorte_same_day
              description: null
              min_zip_code: null
              max_zip_code: null
              post_offices: []
              carrier:
                id: 3
                code: motonorte
                name: Motonorte
                description: Envíos a CABA y GBA
        404:
          description: A ShippingService with the given id not found.

  /post_offices:
    get:
      description: |
        Returns all the available post offices.
      operationId: findPostOffices
      responses:
        200:
          description: An array of PostOffices.
          schema:
            type: object
            properties:
              results:
                type: array
                items:
                  $ref: '#/definitions/PostOffice'
          examples:
            application/json:
              results:
                - id: 751
                  external_reference:
                  external_id: 2
                  description: Belgrano
                  pickup_point: true
                  drop_off_point: false
                  address: 
                   $ref: '#/definitions/Address'
                  carrier: 
                    code: garbarino
                    description: Envíos a todo el país. Puerta a Puerta y Puerta a Sucursal
                    flexible_dispatching: false
                    id: 18
                    image_url: http://res.cloudinary.com/hsyqpasuw/image/upload/v1523894997/garbarino-square_peoqq2.png
                    name: Garbarino
                    tracking_url:
                    
  /post_offices/{id}:
    get:
      description: |
        Returns the PostOffice identified by id.
      operationId: getPostOffice
      parameters:
        - name: id
          in: path
          description: The id of the PostOffice to fetch.
          required: true
          type: integer
          format: int64
      responses:
        200:
          description: A PostOffice
          schema:
            $ref: '#/definitions/PostOffice'
          examples:
            application/json:
            results:
              - id: 751
                external_reference:
                external_id: 2
                description: Belgrano
                pickup_point: true
                drop_off_point: false
                address: 
                  $ref: '#/definitions/Address' 
                carrier: 
                  code: garbarino
                  description: Envíos a todo el país. Puerta a Puerta y Puerta a Sucursal
                  flexible_dispatching: false
                  id: 18
                  image_url: http://res.cloudinary.com/hsyqpasuw/image/upload/v1523894997/garbarino-square_peoqq2.png
                  name: Garbarino
                  tracking_url:
        404:
          description: A PostOffice with the given id not found.
  /transfers:
    get:
      description: |
        Devuelve todas las transferencias del usuario. Estas transferencias pueden ser tanto de warehouses propios del usuario como ajenos.
      operationId: indexTransfers
      responses:
        200:
          description: Un array de Transfers.
          schema:
            type: object
            properties:
              results:
                type: array
                items:
                  $ref: '#/definitions/Transfer'
          examples:
            application/json:
              results:
                - id: 8445
                  cancelled_at:
                  comment: 
                  completed_at:
                  confirmed_at: 2018-03-26T09:14:47.599Z
                  confirmed_from: 2018-03-27T14:00:00.599Z
                  confirmed_to: 2018-03-27T16:00:47.599Z
                  created_at: 2018-03-26T02:36:47.599Z
                  priority: false
                  processing_at:
                  received_at:
                  requested_from: 2018-03-27T09:00:00.599Z
                  requested_to: 2018-03-27T13:00:47.599Z
                  status: confirmed
                  external_reference: T00553245
                  items:
                    - label_type: barcode
                      package_reference: 9ASJF0H
                      quantity_received: 0
                      quantity_sent: 5
                      resource_id: 10
                      resource_type: product
                  outbound_order:
                  from_warehouse:
                    id: 2
                    created_at: 2018-03-25T14:00:00.599Z
                    updated_at: 2018-03-25T14:00:00.599Z
                    name: Another Warehouse
                    operation_from_hour: 09:00
                    operation_to_hour: 16:00
                    only_workdays: false
                    warehouse_system:
                      id: 1
                      code: new_wms
                      name: New WMS
                    address:
                      zip_code: 1428
                      street_name: Vuelta de Obligado
                      street_number: 2100
                      city: Ciudad Autónoma de Buenos Aires
                      state: Ciudad Autónoma de Buenos Aires
                      floor:
                      unit: Deposito J2
                      name: Belgrano Warehouses
                      last_name:
                      phone:
                      email: belgrano@warehouse.com.ar
                      lon: -58.4492836
                      lat: -34.55989
                      country:
                        name: Argentina
                        code: AR
                  to_warehouse:
                    id: 1
                    created_at: 2018-03-25T14:00:00.599Z
                    updated_at: 2018-03-25T14:00:00.599Z
                    name: Shipnow
                    operation_from_hour: 09:00
                    operation_to_hour: 17:00
                    only_workdays: true
                    warehouse_system:
                      id: 2
                      code: xp_wms
                      name: XP WMS
                    address:
                      zip_code: 1427
                      street_name: Av. de los Constituyentes
                      street_number: 2995
                      city: Ciudad Autónoma de Buenos Aires
                      state: Ciudad Autónoma de Buenos Aires
                      floor:
                      unit: Deposito J2
                      name: Shipnow
                      last_name:
                      phone:
                      email: info@shipnow.com.ar
                      lon: -58.475772
                      lat: -34.592206
                      country:
                        name: Argentina
                        code: AR
    post:
      description: |
        Crea una nueva transferencia de mercaderia entre depósitos.
      operationId: createTransfer
      parameters:
        - name: transfer
          in: body
          required: true
          schema:
            $ref: '#/definitions/NewTransfer'
      responses:
        200:
          description: La transferencia que fue creada.
          schema:
            $ref: '#/definitions/Transfer'
          examples:
            application/json:
              id: 8445
              cancelled_at:
              comment: 
              completed_at:
              confirmed_at:
              confirmed_from:
              confirmed_to:
              created_at: 2018-03-26T02:36:47.599Z
              priority: false
              processing_at:
              received_at:
              requested_from: 2018-03-27T09:00:00.599Z
              requested_to: 2018-03-27T13:00:47.599Z
              status: requested
              external_reference: T00553245
              items:
                - label_type: barcode
                  package_reference: 9ASJF0H
                  quantity_received: 0
                  quantity_sent: 5
                  resource_id: 10
                  resource_type: product
              outbound_order:
              from_warehouse:
                id: 2
                created_at: 2018-03-25T14:00:00.599Z
                updated_at: 2018-03-25T14:00:00.599Z
                name: Another Warehouse
                operation_from_hour: 09:00
                operation_to_hour: 16:00
                only_workdays: false
                warehouse_system:
                  id: 1
                  code: new_wms
                  name: New WMS
                address:
                  zip_code: 1428
                  street_name: Vuelta de Obligado
                  street_number: 2100
                  city: Ciudad Autónoma de Buenos Aires
                  state: Ciudad Autónoma de Buenos Aires
                  floor:
                  unit: Deposito J2
                  name: Belgrano Warehouses
                  last_name:
                  phone:
                  email: belgrano@warehouse.com.ar
                  lon: -58.4492836
                  lat: -34.55989
                  country:
                    name: Argentina
                    code: AR
              to_warehouse:
                id: 1
                created_at: 2018-03-25T14:00:00.599Z
                updated_at: 2018-03-25T14:00:00.599Z
                name: Shipnow
                operation_from_hour: 09:00
                operation_to_hour: 17:00
                only_workdays: true
                warehouse_system:
                  id: 2
                  code: xp_wms
                  name: XP WMS
                address:
                  zip_code: 1427
                  street_name: Av. de los Constituyentes
                  street_number: 2995
                  city: Ciudad Autónoma de Buenos Aires
                  state: Ciudad Autónoma de Buenos Aires
                  floor:
                  unit: Deposito J2
                  name: Shipnow
                  last_name:
                  phone:
                  email: info@shipnow.com.ar
                  lon: -58.475772
                  lat: -34.592206
                  country:
                    name: Argentina
                    code: AR
        422:
          description: A list of validation errors.
          examples:
            application/json:
              errors:
                - external_reference has already been taken
                - confirmed_from is greater than confirmed_to
  /transfers/{id}:
    get:
      description: |
        Devuelve una transferencia identificada por ID.
      operationId: getTransfer
      parameters:
        - name: id
          in: path
          description: ID de la transferencia
          required: true
          type: integer
          format: int64
      responses:
        200:
          description: La transferencia que tiene el ID pasado como parametro.
          schema:
            $ref: '#/definitions/Transfer'
          examples:
            application/json:
              id: 8445
              cancelled_at:
              comment: 
              completed_at:
              confirmed_at: 2018-03-26T09:14:47.599Z
              confirmed_from: 2018-03-27T14:00:00.599Z
              confirmed_to: 2018-03-27T16:00:47.599Z
              created_at: 2018-03-26T02:36:47.599Z
              priority: false
              processing_at:
              received_at:
              requested_from: 2018-03-27T09:00:00.599Z
              requested_to: 2018-03-27T13:00:47.599Z
              status: confirmed
              external_reference: T00553245
              items:
                - label_type: barcode
                  package_reference: 9ASJF0H
                  quantity_received: 0
                  quantity_sent: 5
                  resource_id: 10
                  resource_type: product
              outbound_order:
              from_warehouse:
                id: 2
                created_at: 2018-03-25T14:00:00.599Z
                updated_at: 2018-03-25T14:00:00.599Z
                name: Another Warehouse
                operation_from_hour: 09:00
                operation_to_hour: 16:00
                only_workdays: false
                warehouse_system:
                  id: 1
                  code: new_wms
                  name: New WMS
                address:
                  zip_code: 1428
                  street_name: Vuelta de Obligado
                  street_number: 2100
                  city: Ciudad Autónoma de Buenos Aires
                  state: Ciudad Autónoma de Buenos Aires
                  floor:
                  unit: Deposito J2
                  name: Belgrano Warehouses
                  last_name:
                  phone:
                  email: belgrano@warehouse.com.ar
                  lon: -58.4492836
                  lat: -34.55989
                  country:
                    name: Argentina
                    code: AR
              to_warehouse:
                id: 1
                created_at: 2018-03-25T14:00:00.599Z
                updated_at: 2018-03-25T14:00:00.599Z
                name: Shipnow
                operation_from_hour: 09:00
                operation_to_hour: 17:00
                only_workdays: true
                warehouse_system:
                  id: 2
                  code: xp_wms
                  name: XP WMS
                address:
                  zip_code: 1427
                  street_name: Av. de los Constituyentes
                  street_number: 2995
                  city: Ciudad Autónoma de Buenos Aires
                  state: Ciudad Autónoma de Buenos Aires
                  floor:
                  unit: Deposito J2
                  name: Shipnow
                  last_name:
                  phone:
                  email: info@shipnow.com.ar
                  lon: -58.475772
                  lat: -34.592206
                  country:
                    name: Argentina
                    code: AR
        404:
          description: no se encontró ninguna transferencia con ese ID.
    put:
      description: |
        Actualiza una transferencia ya existente.
      operationId: updateTransfer
      parameters:
        - name: id
          in: path
          description: el ID de la transferencia que se quiere editar.
          required: true
          type: integer
        - name: transfer
          in: body
          description: los datos de la transferencia que se quieren guardar. Dependiendo del estado de la transferencia algunos datos podrían ser no editables.
          required: true
          schema:
            $ref: '#/definitions/NewTransfer'
      responses:
        200:
          description: La transferencia actualizada.
          schema:
            $ref: '#/definitions/Transfer'
          examples:
            application/json:
              id: 8445
              cancelled_at:
              comment: 
              completed_at:
              confirmed_at: 2018-03-26T09:14:47.599Z
              confirmed_from: 2018-03-27T14:00:00.599Z
              confirmed_to: 2018-03-27T16:00:47.599Z
              created_at: 2018-03-26T02:36:47.599Z
              priority: false
              processing_at:
              received_at:
              requested_from: 2018-03-27T09:00:00.599Z
              requested_to: 2018-03-27T13:00:47.599Z
              status: confirmed
              external_reference: T00553245
              items:
                - label_type: barcode
                  package_reference: 9ASJF0H
                  quantity_received: 0
                  quantity_sent: 5
                  resource_id: 10
                  resource_type: product
              outbound_order:
              from_warehouse:
                id: 2
                created_at: 2018-03-25T14:00:00.599Z
                updated_at: 2018-03-25T14:00:00.599Z
                name: Another Warehouse
                operation_from_hour: 09:00
                operation_to_hour: 16:00
                only_workdays: false
                warehouse_system:
                  id: 1
                  code: new_wms
                  name: New WMS
                address:
                  zip_code: 1428
                  street_name: Vuelta de Obligado
                  street_number: 2100
                  city: Ciudad Autónoma de Buenos Aires
                  state: Ciudad Autónoma de Buenos Aires
                  floor:
                  unit: Deposito J2
                  name: Belgrano Warehouses
                  last_name:
                  phone:
                  email: belgrano@warehouse.com.ar
                  lon: -58.4492836
                  lat: -34.55989
                  country:
                    name: Argentina
                    code: AR
              to_warehouse:
                id: 1
                created_at: 2018-03-25T14:00:00.599Z
                updated_at: 2018-03-25T14:00:00.599Z
                name: Shipnow
                operation_from_hour: 09:00
                operation_to_hour: 17:00
                only_workdays: true
                warehouse_system:
                  id: 2
                  code: xp_wms
                  name: XP WMS
                address:
                  zip_code: 1427
                  street_name: Av. de los Constituyentes
                  street_number: 2995
                  city: Ciudad Autónoma de Buenos Aires
                  state: Ciudad Autónoma de Buenos Aires
                  floor:
                  unit: Deposito J2
                  name: Shipnow
                  last_name:
                  phone:
                  email: info@shipnow.com.ar
                  lon: -58.475772
                  lat: -34.592206
                  country:
                    name: Argentina
                    code: AR
        422:
          description: A list of validation errors.
          examples:
            application/json:
              errors:
                - external_reference has already been taken
                - confirmed_from is greater than confirmed_to

# TODO: tracking

  /ping:
    get:
      description:
        Use this endpoint to test connectivity to the ShipNow API, response
        times, or debug other possible network-related issues.
      operationId: ping
      security: []
      responses:
        200:
          description: This endpoint will always return the string "pong".
securityDefinitions:
  token:
    type: "apiKey"
    name: "Authorization"
    in: "header"
    description: Used for all non-public endpoints.
  auth:
    type: "basic"
    description: Used to obtain a per-user token.
parameters:
  NewOrder:
    in: body
    name: order
    schema:
      type: object
      required:
        - external_reference
        - ship_to
        - items
      properties:
        external_reference:
          type: string
          description: A free-form text to later find this order.
        comment:
          type: string
        ship_to:
          type: object
          required:
            - name
            - last_name
            - zip_code
            - address_line
            - city
            - email
          properties:
            name:
              type: string
            last_name:
              type: string
            phone:
              type: string
            zip_code:
              type: integer
            address_line:
              type: string
            street_name:
              type: string
            street_number:
              type: string
            unit:
              type: string
            floot:
              type: string
            city:
              type: string
            state:
              type: string
            email:
              type: string
            post_office_id:
              type: string
              description: |
                The id of a post office where the order is to be shipped.
                Including this fields eliminates the need for the address_line
                and street_* fields
        shipping_options:
          type: object
          required:
            - service_code
            - carrier_code
          properties:
            service_code:
              type: string
              description: The code for the order's shipping_service.
            carrier_code:
              type: string
              description: The code for the order's carrier.
        store_id:
          type: string
          description: The id of this order's store.
        store_type:
          type: string
          description: The store_type for this order's store.
          readOnly: true
        status:
          type: string
          example: "awating_payment"
          enum:
           - awaiting_payment
           - on_hold
           - cancelled
           - awaiting_shipment
           - filtered
           - shipped
           - not_delivered
           - delivered
           - return
           - ready_to_pick
           - picking_list
           - ready_to_pack
           - ready_to_ship
        items:
          type: array
          description: The items (products) included in this order.
          items:
            - type: object
              required:
              - id
              - quantity
              properties:
                id:
                  description: The id of a product. See /products.
                  type: integer
                external_reference:
                  type: string
                  description: The product's external_reference.
                  readOnly: true
                quantity:
                  description: The amount of this product that this order contains.
                  type: integer
                unit_price:
                  description: This product's price (per unit).
                  readOnly: true
                  type: number
                title:
                  description: The product's title
                  type: string
                image_url:
                  description: Ths product's image_url.
                  type: string
        #shipments
  Product:
    in: body
    name: product
    schema:
      type: object
      required:
        - external_reference
        - title
      properties:
        external_reference:
          type: string
          description: A free-form text to later find and search this product.
        title:
          type: string
          description: A name for this product. This is free-form text, and is only used for display purposes.
        stock:
          type: number
          description: Remaining stock for this product
        price:
          type: number
          description: This product's price. Insurance coverage will be based on this price.
        currency:
          type: string
          description: The currency for this product's price. Should be ARS, for now.
        image_url:
          type: string
          format: url
          description: A URL to an image that visually identifies this product.
        dimensions:
          type: object
          properties:
            weight:
              type: number
            height:
              type: number
            length:
              type: number
            width:
              type: number
        extra_data:
          type: object
          description: A free-form JSON field where custom data can be stored for each product.
  User:
    name: user
    in: body
    schema:
      properties:
        id:
          type: integer
          readOnly: true
          description: The unique id.
        email:
          type: string
          example: "alice@example.com"
        token:
          type: string
          example: biijDg4Jo0S0P3vdGmTLICUnOExFFqJzLJ5QSTzRfLTYvVZgjH
          description: The API token.
        description:
          type: string
          description: A free-form description for this user.
        role:
          type: string
          enum:
            - regular
            - admin
            - shipnow
        # TODO: account:
        avatar_url:
          type: string
          format: url
          description: The URL to an avatar used to idenfity this user.
  Account:
    name: account
    in: body
    schema:
      properties:
        id:
          readOnly: true
          description: The unique id.
        email:
          type: string
          example: "alice@example.com"
        name:
          type: string
        last_name:
          type: string
        company_name:
          type: string
        phone:
          type: string
        address:
          type: object
          properties:
            postal_code:
              type: string
            address_line:
              type: string
            street_name:
              type: string
            street_number:
              type: string
            unit:
              type: string
            floor:
              type: string
            city:
              type: string
            state:
              type: string
        # TODO: Stores
        token:
          type: string
          example: biijDg4Jo0S0P3vdGmTLICUnOExFFqJzLJ5QSTzRfLTYvVZgjH
        image_url:
          type: string
          format: url
          description: The URL to an image used to idenfity this account.
  NewStore:
    name: store
    in: body
    schema:
      properties:
        name:
          type: string
          description: A name to identify this store.
        store_type:
          type: string
          enum:
            - meli
            - magento
            - prestashop
            - woocommerce
            - shopify
            - custom
            - manual
            - tiendanube
        credentials:
          type: object
          description: |
            A free-form JSON field where credentials to upstream stores are save.
        image_url:
          type: string
          format: url
          description: The URL to an image to identify this store
          default: The image_url for the Store's store_type
  Store:
    in: body
    name: store
    schema:
      type: object
      properties:
        id:
          readOnly: true
          description: A unique id.
          example: 12
  NewWebhook:
    name: webhook
    in: body
    schema:
      required:
        - url
        - topics
        - stores
      properties:
        url:
          type: string
          format: url
          description: The URL to which notifications will be posted.
        topics:
          type: array
          enum:
            - orders/create
            - orders/update
            - products/create
            - products/update
            - products/destroy
          description: The URL to which notifications will be posted.
        stores:
          type: array
          description: List of stores that will be notified.

definitions:
  Shipment:
    required:
      - id
      - order_id
      - speed_shipping
      - speed_handling
      - estimated_handling
      - estimated_delivery
      - shipping_price
      - insurance_price
      - tracking_number
      - external_reference
      - shipped_at
      - delivered_at
      - prepared_at
      - last_mile_at
      - not_delivered_at
      - carrier_code
      - service_code
      - type
    properties:
      id:
        type: integer
      order_id:
        type: integer
      speed_shipping:
        type: string
      speed_handling:
        type: string
      estimated_handling:
        type: string
        format: date-time
      estimated_delivery:
        type: string
        format: date-time
      shipping_price:
        type: number
      insurance_price:
        type: number
      tracking_number:
        type: string
      external_reference:
        type: string
      shipped_at:
        type: string
        format: date-time
      delivered_at:
        type: string
        format: date-time
      prepared_at:
        type: string
        format: date-time
      last_mile_at:
        type: string
        format: date-time
      not_delivered_at:
        type: string
        format: date-time
      carrier_code:
        type: string
      service_code:
        type: string
      type:
        type: string
        enum:
          - PAS
          - PAP
  Order:
    required:
      - id
      - external_reference
      - ship_to
      # - ship_from
      # - shipping_option
      - store_id
      - items
      # - shipment
    properties:
      id:
        readOnly: true
        type: integer
      created_at:
        type: string
        description: date and hour of creation
      updated_at:
        type: string
        description: date and hour of update
      external_reference:
        type: string
        description: A free-form text to later find and search this order
      comment:
        type: string
      status:
        type: string
        example: "awating_payment"
        enum:
         - awaiting_payment
         - on_hold
         - cancelled
         - awaiting_shipment
         - filtered
         - shipped
         - not_delivered
         - delivered
         - return
         - ready_to_pick
         - picking_list
         - ready_to_pack
         - ready_to_ship
      last_status:
        type: string
        example: "awating_payment"
        enum:
         - awaiting_payment
         - on_hold
         - cancelled
         - awaiting_shipment
         - filtered
         - shipped
         - not_delivered
         - delivered
         - return
         - ready_to_pick
         - picking_list
         - ready_to_pack
         - ready_to_ship
      main_order_id:
        type: integer
      archived:
        type: boolean
      timestamps:
        type: object
        properties:
          created_at:
            type: string
            description: date and hour of order creation
          updated_at:
            type: string
            description: date and hour of order update
          ready_to_pick_at:
            type: string
            description: date and hour when order pases to ready_to_pick state
          packing_slip_at:
            type: string
            description: date and hour when order pases to packing_slip state
          picking_list_at:
            type: string
            description: date and hour when order pases to picking_list state
          ready_to_ship_at:
            type: string
            description: date and hour when order pases to ready_to_ship state
          shipped_at:
            type: string
            description: date and hour when order is shipped
          delivered_at:
            type: string
            description: date and hour when order is delivered
          not_delivered_at:
            type: string
            description: date and hour when order was not delivered
          on_hold_at:
            type: string
            description: date and hour if order was on hold
      weight:
        type: number
        description: order total weigth
      uid:
        type: string
        description: unique id for identification
      package_type:
        type: string
      estimated_delivery:
        type: string
        description: estimated delivery date
      minimum_delivery:
        type: string
        description: minimun date for delivery
      maximum_delivery:
        type: string
        description: maximum date for delivery
      ship_from_warehouse_id:
        type: integer
        description: id of the warehouse from which the order was sent
      ship_to_warehouse_id:
        type: integer
        description: id of the warehouse to which the order is sent
      type:
        type: string
      warnings:
        type: array
        description: list of warnings the order has
      seller_id:
        type: string
      seller_name:
        type: string
      seller_logo:
        type: string
      pvx_account: 
        type: boolean
      store_type:
        type: string
      cross_docking:
        type: boolean
        description: the order is for cross docking?
      payment:
        type: object
        properties:
          interest:
            type: integer
          shipping:
            type: integer
      shipping_option:
        type: object
        properties:
          service_code:
            type: string
            description: shipping service of the order
          carrier_code:
            type: string
            description: carrier service of the order
          category:
            type: string
          price: 
            type: integer
          service_type:
            type: string
      store:
        type: object
        properties:
          id:
            type: integer
          created_at:
            type: string
          updated_ar:
            type: string
          name:
            type: string
          url:
            type: string
          image_url:
            type: string
          active:
            type: boolean
            description: is the store active?
          seller_id:
            type: integer
          store_type:
            type: string
      return:
        type: string
      pickup_order:
        type: string
      ship_to:
        type: object
        required:
          - name
          - last_name
          - zip_code
          - address_line
          - city
          - email
        properties:
          zip_code:
            type: string
          street_name:
            type: string
          street_number:
            type: string
          city:
            type: string
          state:
            type: string
          floor:
            type: string
          unit:
            type: string
          name:
            type: string
          last_name:
            type: string
          full_name:
            type: string
          phone:
            type: string
          email:
            type: string
          lon:
            type: number
          lat:
            type: number
          doc_type:
            type: string
          doc_number:
            type: string
          line:
            type: string
          address_line:
            type: string
          country:
            type: object
            properties:
              name:
                type: string
              code:
                type: string
          post_office_id:
            type: integer
          warehouse_id:
            type: integer
      ship_from:
        type: object
        required:
          - name
          - last_name
          - zip_code
          - address_line
          - city
          - email
        properties:
          zip_code:
            type: string
          street_name:
            type: string
          street_number:
            type: string
          city:
            type: string
          state:
            type: string
          floor:
            type: string
          unit:
            type: string
          name:
            type: string
          last_name:
            type: string
          full_name:
            type: string
          phone:
            type: string
          email:
            type: string
          lon:
            type: number
          lat:
            type: number
          doc_type:
            type: string
          doc_number:
            type: string
          line:
            type: string
          address_line:
            type: string
          country:
            type: object
            properties:
              name:
                type: string
              code:
                type: string
          post_office_id:
            type: integer
          warehouse_id:
            type: integer
      items:
        type: array
        description: The items (products) included in this order.
        items:
          - type: object
            required:
            - id
            - quantity
            properties:
              quantity:
                type: integer
              status:
                type: string
              extra_data:
                type: string
              discount:
                type: string
              cross_docking:
                type: boolean
              id:
                type: integer
              external_reference:
                type: string
              title:
                type: string
              image_url:
                type: string
              thumbnail_url:
                type: string
              archived:
                type: boolean
              picking_preference:
                type: string
              stock:
                type: object
                properties:
                  on_hand:
                    type: integer
                  available:
                    type: integer
                  allocated:
                    type: integer
                  committed:
                    type: integer
              dimensions:
                type: object
                properties:
                  weight:
                    type: integer
            
  Product:
    required:
      - id
      - external_reference
      - title
      - stock
      - price
      - currency
      - image_url
      - dimensions
      - extra_data
    properties:
      id:
        readOnly: true
        type: integer
      created_at:
        type: string
      updated_at:
        type: string
      external_reference:
        type: string
        description: A free-form text to later find and search this product.
      title:
        type: string
        description: A name for this product. This is free-form text, and is only used for display purposes.
      currency:
        type: string
        description: The currency for this product's price. Should be ARS, for now.
      extra_data:
        type: object
        description: A free-form JSON field where custom data can be stored for each product.
      archived:
        type: boolean
      picking_preference:
        type: string
      freezed_external_reference:
        type: boolean
      seller_id:
        type: integer
      seller_name:
        type: string
      type:
        type: string
      publications:
        type: integer
      orders:
        type: integer
      stock:
        type: object
        description: Remaining stock for this product
        properties:
          available:
            type: integer
          committed:
            type: integer
          allocated:
            type: integer
          on_hand:
            type: integer
      dimensions:
        type: object
        description: product dimensions
        properties:
          weight:
            type: integer
          height:
            type: integer
          length:
            type: integer
          width:
            type: integer
      declared_dimensions:
        type: object
        description: product declared dimensions
        properties:
          weight:
            type: integer
          height:
            type: integer
          length:
            type: integer
          width:
            type: integer
      price:
        type: object
        description: This product's price. Insurance coverage will be based on this price.
        properties:
          retail:
            type: string
          wholesale:
            type: string
          buy:
            type: string
      image_url:
        type: string
        format: url
        description: A URL to an image that visually identifies this product.
      thumbnail_url:
        type: string
        format: url
        description: A URL to an image that visually identifies this product.
      related_products:
        type: string
  User:
    required:
      - email
    properties:
      id:
        readOnly: true
        description: The unique id.
      email:
        type: string
        example: "alice@example.com"
      token:
        type: string
        example: biijDg4Jo0S0P3vdGmTLICUnOExFFqJzLJ5QSTzRfLTYvVZgjH
        description: The API token.
      type: 
        type: string
        description: type of user
        enum:
          - api
          - human
      description:
        type: string
        description: A free-form description for this user.
      role:
        type: string
        enum:
          - regular
          - admin
          - shipnow
      # TODO: account:
      avatar_url:
        type: string
        format: url
        description: The URL to an avatar used to idenfity this user.
      created_at:
        type: string
        description: Date and hour of user creation
      account:
        $ref: '#/definitions/Account'
  Account:
    properties:
      id:
        readOnly: true
        description: The unique id.
      created_at:
        type: string
        description: Date and hour of account creation
      updated_at:
        type: string
        description: Date and hour of account update
      email:
        type: string
        example: "alice@example.com"
      name:
        type: string
      last_name:
        type: string
      company_name:
        type: string
      phone:
        type: string
      # TODO: Stores
      token:
        type: string
        example: biijDg4Jo0S0P3vdGmTLICUnOExFFqJzLJ5QSTzRfLTYvVZgjH
      image_url:
        type: string
        format: url
        description: The URL to an image used to idenfity this account.
      current_plan:
        type: string
      pickup_orders_pickup_price:
        type: string
        description: price of pick and pack for the account
      active:
        type: boolean
        description: is an active account?
      url:
        type: string
        description: account url
      fiscal_category:
        type: string
      business_name:
        type: string
      doc_number:
        type: string
      doc_type:
        type: string
      dnd: 
        type: boolean
      picking_preference:
        type: string
      current_tariff:
        type: object
        $ref: '#/definitions/Tariff'
      adrress:
        type: object
        $ref: '#/definitions/Address'
      stores:
        type: object
        $ref: '#/definitions/Store'
      warehouses:
        type: array
        properties:
          warehous:
            type: object
            $ref: '#/definitions/Warehouse'
  Store:
    properties:
      id:
        type: integer
      created_at:
        type: string
      updated_at:
        type: string
      name:
        type: string
        description: A name to identify this store.
      url:
        type: string
      image_url:
        type: string
        format: url
        description: The URL to an image to identify this store
        default: The image_url for the Store's store_type
      active:
        type: boolean
      seller_id:
        type: string
      store_type:
        type: string
        enum:
          - meli
          - magento
          - prestashop
          - woocommerce
          - shopify
          - custom
          - manual
          - tiendanube
      credentials:
        type: object
        description: |
          A free-form JSON field where credentials to upstream stores are save.
      
  ShippingService:
    properties:
      id:
        description: A unique id.
        example: 1
        type: integer
      code:
        description: |
          A unique code for this shipping service. It should be more
          readable than the id, and will usually be returned when referencing
          shipping services.
        type: string
        example: motonorte
      description:
        type: string
      accepted_delay:
        type: integer
      type:
        type: string
      category:
        type: string
      carrier:
        type: object
        properties:
          code:
            description: |
              A unique code for this carrier. It should be more readable than
              the id, and will usually be returned when referencing carrier.
            type: string
            example: ups
          description:
            description: |
              A free-form text field that give some information about this
              shipping carrier.
            type: string
            example: Does worldwide door-to-door shipping
          flexible_dispatching:
            type: boolean
          id:
            description: The carrier's unique id.
            type: integer
            example: 1
          name:
            description: A friendly name for this carrier.
            type: string
            example: UPS
          tracking_url:
            type: string
  PostOffice:
    properties:
      id: 
        description: An unique ID.
        type: integer
        example: 1
      external_reference: 
        description: An external reference
        type: string
        example: FL1
      external_id: 
        description: An unique external ID
        type: integer
        example: 141
      description: 
        description: Comments about the post office
        type: string
        example: CI FLORES
      pickup_point:
        description: Is a pickup point?
        type: boolean
        example: true
      drop_off_point: 
        description: Is a drop off point?
        type: boolean
        example: false
      address:
        description: Address of the post office
        $ref: '#/definitions/Address'
      carrier:
        description: Carrier to which the post office belongs
        $ref: '#/definitions/Carrier'
  Carrier:
    properties:
      code:
        description: An unique code for carrier
        type: string
        example: oca
      description:
        description: Comments about the carrier
        type: string
        example: Envíos a todo el país. Puerta a Puerta y Sucursal
      flexible_dispatching:
        description: flexible dispatching?
        type: boolean
        example: false
      id:
        description: An unique ID.
        type: integer
        example: 1
      image_url:
        description: Url for the carrier avatar
        type: string
        example: https://d32gfon7gpwon2.cloudfront.net/carriers/oca-ar.svg
      name:
        description: Name of carrier.
        type: string
        example: Oca
      tracking_url:
        description: Url for package tracking.
        type: string
        example: https://www1.oca.com.ar/OEPTrackingWeb/detalleenviore.asp?numero=
  WarehouseSystem:
    properties:
      id:
        description: Un ID único.
        type: integer
        example: 1
      name:
        description: Nombre del WMS.
        type: string
        example: WMS 2.0
      code:
        description: Código único del WMS.
        type: string
        example: wms_2_0
  Address:
    properties:
      zip_code:
        type: string
      street_name:
        type: string
        example: Rivadavia
      street_number:
        type: string
        example: 2700
      city:
        type: string
        example: Rosario
      state:
        type: string
        example: Santa Fe
      floor:
        type: string
        example: Piso 2A
      unit:
        type: string
        example: Unidad 3
      name:
        type: string
        example: Jose
      last_name:
        type: string
        example: Perez
      phone:
        type: string
        example: +541178458928
      email:
        type: string
        format: email
        example: jose@perez.com.ar
      lon:
        type: string
        example: -58.475772
      lat:
        type: string
        example: -34.592206
      country:
        type: object
        properties:
          name:
            type: string
            example: Argentina
          code:
            type: string
            example: AR
  Warehouse:
    properties:
      id:
        description: A unique ID.
        example: 1
        type: integer
      created_at:
        description: Date of creation of the deposit.
        type: string
        format: date-time
        example: 2018-03-25T14:00:00.599Z
      name:
        description: Name that identifies the deposit.
        example: Showroom Palermo
        type: string
      operation_from_hour:
        description: Hour when the deposit begins to operate.
        type: string
        pattern: '^\d{2}:\d{2}$'
        example: 09:00
      operation_to_hour:
        description: Hour when the deposit finishes to operate.
        type: string
        pattern: '^\d{2}:\d{2}$'
        example: 09:00
      only_workdays:
        description: Specifies if the deposit does not work on holidays and weekends.
        type: boolean
        example: true
      warehouse_system:
        description: WMS that has de deposit.
        $ref: '#/definitions/WarehouseSystem'
      address:
        description: Dirección del depósito.
        $ref: '#/definitions/Address'
  TransferItem:
    properties:
      label_type:
        description: Form in which the item will be labeled.
        type: string
        enum:
          - barcode
          - rotulado
      package_reference:
        description: Item reference.
        type: string
        example: 9ASJF0H
      quantity_received:
        description: Number of item units received.
        type: integer
      quantity_sent:
        description: Number of item units sent.
        type: integer
      resource_id:
        description: ID of the item resource.
        type: integer
        example: 234645
      resource_type:
        description: Type of the item resource.
        type: string
        enum:
          - product
          - order
  Transfer:
    properties:
      id:
        description: A unique ID.
        example: 1
        type: integer
        readOnly: true
      cancelled_at:
        description: Date on which the transfer was canceled.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
        readOnly: true
      comment:
        description: Notes about the transfer.
        type: string
        example: Ingresa por puerta norte.
      completed_at:
        description: Date on which the transfer was completed.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
        readOnly: true
      confirmed_at:
        description: Date on which the transfer was confirmed.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
        readOnly: true
      confirmed_from:
        description: Date from which the transfer will be made.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
      confirmed_to:
        description: Date until which the transfer will be made.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
      created_at:
        description: Date in which the transfer was created.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
        readOnly: true
      priority:
        description: Allows to point out that the transfer will have a priority over the rest.
        type: boolean
        example: true
      processing_at:
        description: Date on which the transfer is processed.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
        readOnly: true
      received_at:
        description: Date on which the arrival deposit received the transfer.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
        readOnly: true
      requested_from:
        description: Date requested from which the transfer will be made.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
      requested_to:
        description: Date requested until which the transfer will be made.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
      status:
        description: Transfer status.
        type: string
        enum:
          - requested
          - confirmed
          - received
          - processing
          - completed
          - cancelled
      items:
        description: Transfer's items
        type: array
        items:
          $ref: '#/definitions/TransferItem'
      outbound_order:
        description: Order of departure of the merchandise. When a transfer from a warehouse that has WMS is confirmed, an exit order will be created so that it can be prepared and packaged. This order will include all the products of the transfer.
        $ref: '#/definitions/Order'
      from_warehouse:
        description: Warehouse of departure of the merchandise.
        $ref: '#/definitions/Warehouse'
      to_warehouse:
        description: Deposit of arrival of the merchandise.
        $ref: '#/definitions/Warehouse'
  NewTransfer:
    properties:
      comment:
        description: Notes on the transfer.
        type: string
        example: Enter by north gate.
      confirmed_from:
        description: Date from which the transfer will be made. It can only be edited if the status is confirmed.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
      confirmed_to:
        description: Date until which the transfer will be made. It can only be edited if the status is confirmed.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
      priority:
        description: Allows to point out that the transfer will have a priority over the rest.
        type: boolean
        example: true
      requested_from:
        description: Date requested from which the transfer will be made. It can only be edited if the status is requested.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
      requested_to:
        description: Date requested until which the transfer will be made. It can only be edited if the status is requested.
        type: string
        format: date-time
        example: 2018-04-06T09:00:00.000Z
      status:
        description: Transfer's status.
        type: string
        enum:
          - requested
          - confirmed
          - received
          - processing
          - completed
          - cancelled
      items:
        description: Transfer's items
        type: array
      from_warehouse_id:
        description: ID of the departure deposit of the merchandise.
        type: integer
        example: 1
      to_warehouse_id:
        description: ID of the arrival deposit of the merchandise.
        type: integer
        example: 1
    required:
      - requested_from
      - requested_to
      - items
      - from_warehouse_id
      - to_warehouse_id
  Tariff:
    properties:
      id:
        type: integer
      description:
        type: string
      details:
        type: object
        properties:
          name:
            type: string
          order_min:
            type: integer
          order_max:
            type: integer
          price_detail:
            type: object
            properties:
              item_number_min:
                type: integer
              item_number_max:
                type: integer
              price:
                type: integer